<!DOCTYPE html>
<html>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="calculator.js"></script>
<link   rel="stylesheet" type="text/css" href="calculator.css">
<body>

    <div class="calculator" ng-app="myApp" ng-controller="calculatorCtrl">

        <h1>Calculate your loan</h1>

        <form name="calculatorForm" novalidate>

            <div class="calculator-field">
                <label>Loan amount</label>
                <input  name="loanAmount" 
                        type="number" 
                        min="10000" 
                        max="100000000" 
                        ng-model="formData.loanAmount" 
                        ng-change="calculateLoan(calculatorForm)" 
                        required />

                <div ng-messages="calculatorForm.loanAmount.$error" role="alert">
                    <div ng-message="required">Required field</div>
                    <div ng-message="min">Minumum allowed value is 10000</div>
                    <div ng-message="max">Maximum allowed value is 100000000</div>
                </div>
            </div>

            <div class="calculator-field">
                <label>Down payment years</label>
                <select ng-options="year for year in years"
                        ng-model="formData.downPaymentYears" 
                        ng-change="calculateLoan(calculatorform)"
                        required >
                </select>
            </div>

            <div class="calculator-field">
                <label>Interest rate</label>
                <input  name="interestRate" 
                        type="number" 
                        min="1" 
                        max="20" 
                        step="0.01"  
                        ng-model="formData.interestRate" 
                        ng-change="calculateLoan(calculatorForm)"
                        required />

                <div ng-messages="calculatorForm.interestRate.$error" role="alert">
                    <div ng-message="required">Required field</div>
                    <div ng-message="min">Minumum allowed value is 1</div>
                    <div ng-message="max">Maximum allowed value is 20</div>
                </div>
            </div>
       </form>

       <div class="calculator-result">
           <h3>Monthly payment</h3>
           <h4>{{payment}} kr.</h4>
        </div>

    </div>

</body>
</html>